from pydantic import BaseModel
from typing import List, Optional

class QueryRequest(BaseModel):
    question: str
    top_k: int = 10
    rerank_top_k: int = 5

class QueryResponse(BaseModel):
    question: str
    answer: str
    sources: List[dict]
    total_chunks_in_db: int

class IngestRequest(BaseModel):
    documents_path: str
    chunk_size: int = 500
    chunk_overlap: int = 50

class IngestResponse(BaseModel):
    status: str
    message: str
    documents_count: int
    chunks_count: int

class ConfigRequest(BaseModel):
    model_base_url: str
    model_api_key: str = "not-needed"

class HealthResponse(BaseModel):
    status: str
    device: str
    collection_size: int
    model_configured: bool
    embedding_model_ready: bool
